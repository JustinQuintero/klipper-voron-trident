[gcode_macro CENTER]
description: Center the printhead for heatsoak
gcode:
    {% set max_x = printer.configfile.config.stepper_x.position_max|int %}
    {% set max_y = printer.configfile.config.stepper_y.position_max|int %}
    {% set max_z = printer.configfile.config.stepper_z.position_max|int %}
    {% set travel_speed = printer["gcode_macro _User_Variables"].travel_speed * 60 %}

    HOME
    G90
    G0 X{ max_x / 2 } Y{ (max_y - 7) / 2 } G0 Z{ max_z * 0.4 } F{travel_speed}