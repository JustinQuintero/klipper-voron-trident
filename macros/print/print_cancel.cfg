[gcode_macro CANCEL_PRINT]
description: Cancel the actual running print
rename_existing: CANCEL_PRINT_BASE
gcode:
    SET_VELOCITY_LIMIT ACCEL=8000 ACCEL_TO_DECEL=4000 SQUARE_CORNER_VELOCITY=5 # reset acceleration

    TURN_OFF_HEATERS
    G91 E-0.75
    CLEAR_PAUSE
    CANCEL_PRINT_BASE
    SDCARD_RESET_FILE
    M221 S100
    BED_MESH_CLEAR
    DISABLE_MOTORS

[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:
    SET_VELOCITY_LIMIT ACCEL=6000 ACCEL_TO_DECEL=3000 SQUARE_CORNER_VELOCITY=5 # reset acceleration
    M104 S0
    M140 S0
    M106 S0
    G91 E-1
    CLEAR_PAUSE
    BASE_CANCEL_PRINT
    Park_toolhead
    SDCARD_RESET_FILE
    M221 S100
    BED_MESH_CLEAR
    DISABLE_MOTORS